---
import Layout from "../../layouts/Layout.astro";
import es from "../../i18n/es.json";
import en from "../../i18n/en.json";
import it from "../../i18n/it.json";

type Lang = "es" | "en" | "it";
const dict: Record<Lang, typeof es> = { es, en, it };
const lang = (Astro.params.lang ?? "es") as Lang;
const t = dict[lang];
---

<Layout title={t.meta.contactTitle}>
  <section id="contact" class="flex flex-col min-h-screen py-10 items-center px-4">
    <h2 class="text-3xl font-bold tracking-tighter sm:text-5xl">{t.contact.title}</h2>
    <p class="md:text-lg font-medium my-2 text-center">
      {t.contact.subtitle}
      <br /><strong>{t.contact.subtitleStrong}</strong>
    </p>
    <form
      id="contact-form"
      name="contact"
      class="w-full max-w-2xl flex flex-col gap-4 mt-4 rounded-lg p-6 card shadow-sm shadow-slate-400"
      aria-label="Formulario de contacto"
      autocomplete="on"
      data-sending={t.contact.sending}
      data-success={t.contact.success}
      data-error={t.contact.error}
      data-unexpected={t.contact.unexpected}
      data-redirect={`/${lang}`}
    >
      <input type="hidden" name="form-name" value="contact" />
      <div>
        <label class="block text-left font-semibold mb-1" for="name">{t.contact.name}</label>
        <input
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#31a8cc] focus:bg-transparent"
          type="text"
          id="name"
          name="name"
          required
        />
      </div>
      <div>
        <label class="block text-left font-semibold mb-1" for="email">{t.contact.email}</label>
        <input
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#31a8cc]"
          type="email"
          id="email"
          name="email"
          required
        />
      </div>
      <div>
        <label class="block text-left font-semibold mb-1" for="message">{t.contact.message}</label>
        <textarea
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#31a8cc]"
          id="message"
          name="message"
          rows="5"
          placeholder={t.contact.placeholder}
          style="resize: none"
          required></textarea>
      </div>
      <button
        type="submit"
        class="mt-2 px-6 py-3 bg-[#31a8cc] text-white font-medium rounded-lg shadow-md hover:bg-[#2596b2] transition-colors duration-300"
      >
        {t.contact.send}
      </button>
    </form>
    <div class="flex flex-col items-center gap-2 mt-6">
      <span class="font-semibold">{t.contact.otherContact}</span>
      <div class="flex gap-4 justify-center mt-2">
        <a
          href="mailto:vdjoseluis@outlook.com"
          class="text-[#31a8cc] hover:underline flex items-center gap-1 text-lg"
          aria-label="Correo"
        >
          <img src="/email.svg" alt="Icono de Correo" class="h-6"/>
          vdjoseluis@outlook.com
        </a>
        <a
          href="https://www.linkedin.com/in/vdjoseluis/"
          target="_blank"
          rel="noopener noreferrer"
          class="text-[#31a8cc] hover:underline flex items-center gap-1 text-lg"
          aria-label="LinkedIn"
        >
          <img src="/linkedin.svg" alt="Icono de LinkedIn" class="h-6"/>
          LinkedIn
        </a>
        <a
          href="https://github.com/vdjoseluis"
          target="_blank"
          rel="noopener noreferrer"
          class="text-[#31a8cc] hover:underline flex items-center gap-1 text-lg"
          aria-label="GitHub"
        >
          <img src="/skills/github.svg" alt="Icono de GitHub" class="h-6"/>
          GitHub
        </a>
      </div>
    </div>
  </section>
  <script src="/contact.js" is:inline></script>
</Layout>
